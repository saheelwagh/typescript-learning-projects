function t(){return t=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}return t},t.apply(this,arguments)}function r(t){return t.toLocaleDateString("en-US")}function n(n,e){return t({},{currentCount:1,startDate:r(n),lastLoginDate:r(n)},e)}function e(t,r){t.setItem("streak",JSON.stringify(r))}function o(t,o){const a=t.getItem("streak");if(a)try{const s=JSON.parse(a),c=function(t,r){const n=t.getDate()-parseInt(r.split("/")[1]);return 0===n?"none":1===n?"increment":"reset"}(o,s.lastLoginDate),i="reset"===c;if("increment"===c){const a=n(o,{startDate:s.startDate,currentCount:s.currentCount+1,lastLoginDate:r(o)});return e(t,a),a}if(i){const r=n(o);return e(t,r),r}return s}catch(t){console.error("failed to parse streak from localStorage")}const s=n(o);return e(t,s),s}export{o as streakCounter};
//# sourceMappingURL=index.module.js.map
